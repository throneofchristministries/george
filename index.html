<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Throne of Christ Ministries</title>
<link rel="stylesheet" href="style.css">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

</head>
<body>

<header>
<div class="logo">Throne of Christ Ministries</div>
<nav>
<a href="#home">Home</a>
<a href="#about">About</a>
<a href="#services">Services</a>
<a href="#media">Messages</a>
<a href="#contact">Contact</a>
</nav>
</header>

<section id="home" class="hero">
<h1>Welcome to Throne of Christ Ministries</h1>
<p>Holy Ghost Temple</p>
<section id="programs">
  <h2>Upcoming Programs</h2>
  <div class="programs-carousel" id="programsCarousel">
    <!-- Flyers will be loaded dynamically here -->
  </div>
</section>
<div class="buttons">
<a href="https://facebook.com" class="btn">Facebook</a>
<a href="https://youtube.com" class="btn">YouTube</a>
<a href="https://instagram.com" class="btn">Instagram</a>
<a href="https://wa.me/233000000000" class="btn">WhatsApp</a>
</div>
</section>

<section id="about">
<h2>About Us</h2>
<p>
Throne of Christ Ministries is a Bible-believing ministry committed to preaching the Gospel of Jesus Christ,
raising disciples, and transforming lives through prayer, teaching, and outreach.
</p>

<div class="vision">
<h3>Our Vision</h3>
<p>To reveal Christ to the world and raise spiritually grounded believers.</p>

<h3>Our Mission</h3>
<p>Winning souls, teaching the Word, and impacting generations.</p>
</div>
</section>

<section id="services">
<h2>Service Times</h2>

<div class="cards">
<div class="card">
<h3>Sunday Worship</h3>
<p>9:00 AM â€“ 12:00 PM</p>
</div>

<div class="card">
<h3>Midweek Service</h3>
<p>Wednesday â€“ 6:00 PM</p>
</div>

<div class="card">
<h3>Prayer Meeting</h3>
<p>Friday â€“ 6:00 PM</p>
</div>
</div>
</section>
<section id="programs">
  <h2>Upcoming Programs</h2>
  <div class="programs-carousel" id="programsCarousel">
    <!-- Flyers will load dynamically from Firebase -->
  </div>
</section>

<!-- ================= MESSAGES SECTION ================= -->

<section id="media">
<h2>Video & Audio Messages</h2>

<div class="search-box">
<input type="text" id="searchInput" placeholder="Search by program or title">
<input type="date" id="dateInput">
</div>

<div id="messages">
<!-- Messages will be loaded dynamically from Firebase -->
</div>

<p class="note">
Messages appear automatically. Use admin panel to add new messages.
</p>

</section>

<!-- ================= CONTACT ================= -->

<section id="contact">
<h2>Contact Us</h2>

<form>
<input type="text" placeholder="Your Name" required>
<input type="email" placeholder="Your Email" required>
<textarea placeholder="Your Message"></textarea>
<button type="submit">Send Message</button>
</form>

<div class="info">
<p>ğŸ“ Location: Ghana</p>
<p>ğŸ“ Phone: +233 XXXXXXXX</p>
<p>âœ‰ Email: throneofchrist@gmail.com</p>
</div>
</section>

<footer>
<p>Â© 2026 Throne of Christ Ministries</p>
</footer>

<script>
  // ======= Firebase Setup =======
  const firebaseConfig = {
    apiKey: "AIzaSyBVkn_LvrbOFKmZLoJxMsrZXqugUQvml74",
    authDomain: "throneofchristministries-6a88a.firebaseapp.com",
    projectId: "throneofchristministries-6a88a",
    storageBucket: "throneofchristministries-6a88a.firebasestorage.app",
    messagingSenderId: "970066493474",
    appId: "1:970066493474:web:99d8f66402206b90998a7b"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
// Load programs from Firebase
const programsCarousel = document.getElementById("programsCarousel");

db.collection("programs").orderBy("date", "asc").onSnapshot(snapshot => {
  programsCarousel.innerHTML = "";
  snapshot.forEach(doc => {
    const p = doc.data();
    programsCarousel.innerHTML += `
      <div class="program-card">
        <img src="${p.flyer}" alt="${p.title}">
        <div class="info">
          <h4>${p.title}</h4>
          <p>${p.date}</p>
          ${p.link ? `<a href="${p.link}" target="_blank">View Details</a>` : ''}
        </div>
      </div>
    `;
  });
});
  const messagesDiv = document.getElementById("messages");
  const searchInput = document.getElementById("searchInput");
  const dateInput = document.getElementById("dateInput");

  let messagesData = [];

  // ======= Load messages from Firebase =======
  db.collection("messages").orderBy("date", "desc").onSnapshot(snapshot => {
    messagesData = [];
    messagesDiv.innerHTML = "";
    snapshot.forEach(doc => {
      const m = doc.data();
      messagesData.push(m);
      messagesDiv.innerHTML += `
        <div class="message" data-date="${m.date}">
          <h3>${m.title}</h3>
          <p>Date: ${m.date}</p>
          <iframe src="${m.video}" allowfullscreen></iframe>
          <iframe src="${m.audio}"></iframe>
        </div>`;
    });
  });

  // ======= Search Function =======
  function filterMessages(){
    const text = searchInput.value.toLowerCase();
    const date = dateInput.value;

    messagesDiv.querySelectorAll(".message").forEach(msg => {
      const title = msg.innerText.toLowerCase();
      const msgDate = msg.getAttribute("data-date");

      if(title.includes(text) && (date === "" || msgDate === date)){
        msg.style.display = "block";
      } else {
        msg.style.display = "none";
      }
    });
  }

  searchInput.addEventListener("keyup", filterMessages);
  dateInput.addEventListener("change", filterMessages);
</script>

</body>
</html>
